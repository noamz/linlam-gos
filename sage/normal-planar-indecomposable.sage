# generating functions for neutral/normal planar indecomposable terms

R.<x,z> = ZZ[]

max = 40
B = Sequence([0..max],R)
C = Sequence([0..max],R)

for i in range(max):
    B[i+1] = x + B[i]*(C[i] - C[i].subs(x=0))
    B[i+1] = B[i+1].truncate(z,max)
    C[i+1] = z*B[i+1] + (C[i] - C[i].subs(x=0))/x
    C[i+1] = C[i+1].truncate(z,max)

BB = B[max].truncate(z,1+max/2)
CC = C[max].truncate(z,1+max/2)

CC.subs(x=0)
# 860593023907540*z^20 + 103367824774012*z^19 + 12504654858828*z^18 + 1524813969276*z^17 + 187606350645*z^16 + 23317105140*z^15 + 2931682810*z^14 + 373537388*z^13 + 48336171*z^12 + 6369883*z^11 + 857956*z^10 + 118668*z^9 + 16965*z^8 + 2530*z^7 + 399*z^6 + 68*z^5 + 13*z^4 + 3*z^3 + z^2 + z

BB.polynomial(z)
# (6564120420*x^21 + 62359143990*x^20 + 318107374200*x^19 + 1157079750750*x^18 + 3363504431760*x^17 + 8305728829020*x^16 + 18089805182400*x^15 + 35633001631500*x^14 + 64609288672500*x^13 + 109227027667758*x^12 + 173808364882152*x^11 + 262145033846982*x^10 + 376600280336280*x^9 + 516902345559600*x^8 + 678513446252928*x^7 + 850316530400304*x^6 + 1011022286145816*x^5 + 1122788441510820*x^4 + 1117653277802000*x^3 + 860593023907540*x^2)*z^20 + (1767263190*x^20 + 15905368710*x^19 + 77138650050*x^18 + 267586846560*x^17 + 743836982625*x^16 + 1760661410760*x^15 + 3683222721360*x^14 + 6980466696000*x^13 + 12194405002780*x^12 + 19882182069750*x^11 + 30529293447510*x^10 + 44432213578896*x^9 + 61545918679245*x^8 + 81284313900636*x^7 + 102244420000800*x^6 + 121784464712064*x^5 + 135277629836412*x^4 + 134519771966180*x^3 + 103367824774012*x^2)*z^19 + (477638700*x^19 + 4059928950*x^18 + 18668849760*x^17 + 61610739975*x^16 + 163416307320*x^15 + 370015460100*x^14 + 742041207600*x^13 + 1350514997832*x^12 + 2268651676200*x^11 + 3559857361060*x^10 + 5262051194400*x^9 + 7368102767025*x^8 + 9801223583580*x^7 + 12382019142570*x^6 + 14778966163752*x^5 + 16421073515280*x^4 + 16310419381080*x^3 + 12504654858828*x^2)*z^18 + (129644790*x^18 + 1037158320*x^17 + 4508102925*x^16 + 14115694320*x^15 + 35636913000*x^14 + 77012282760*x^13 + 147732098514*x^12 + 257640394440*x^11 + 415220449644*x^10 + 625442818000*x^9 + 887209032710*x^8 + 1190292863760*x^7 + 1511405695800*x^6 + 1808402199660*x^5 + 2010068042625*x^4 + 1993987498284*x^3 + 1524813969276*x^2)*z^17 + (35357670*x^17 + 265182525*x^16 + 1085822640*x^15 + 3216014100*x^14 + 7706844600*x^13 + 15854466628*x^12 + 29019121040*x^11 + 48370136958*x^10 + 74580114180*x^9 + 107483105730*x^8 + 145691385840*x^7 + 186127769100*x^6 + 223353322920*x^5 + 248377859100*x^4 + 246041115600*x^3 + 187606350645*x^2)*z^16 + (9694845*x^16 + 67863915*x^15 + 260757900*x^14 + 728042000*x^13 + 1650887238*x^12 + 3223471524*x^11 + 5613072036*x^10 + 8914574240*x^9 + 13103365275*x^8 + 17986968714*x^7 + 23150207388*x^6 + 27878644080*x^5 + 31021294850*x^4 + 30680401500*x^3 + 23317105140*x^2)*z^15 + (2674440*x^15 + 17383860*x^14 + 62403600*x^13 + 163601438*x^12 + 349776700*x^11 + 645999354*x^10 + 1066411632*x^9 + 1607458710*x^8 + 2241753228*x^7 + 2911858950*x^6 + 3521923944*x^5 + 3922142574*x^4 + 3872033900*x^3 + 2931682810*x^2)*z^14 + (742900*x^14 + 4457400*x^13 + 14872858*x^12 + 36447320*x^11 + 73163376*x^10 + 127287160*x^9 + 198333135*x^8 + 282285432*x^7 + 370952010*x^6 + 451137596*x^5 + 502957455*x^4 + 495508780*x^3 + 373537388*x^2)*z^13 + (208012*x^13 + 1144066*x^12 + 3527160*x^11 + 8036886*x^10 + 15072200*x^9 + 24576552*x^8 + 35939904*x^7 + 47948670*x^6 + 58727214*x^5 + 65572325*x^4 + 64448228*x^3 + 48336171*x^2)*z^12 + (58786*x^12 + 293930*x^11 + 831402*x^10 + 1750320*x^9 + 3048045*x^8 + 4628052*x^7 + 6301680*x^6 + 7791168*x^5 + 8717940*x^4 + 8544965*x^3 + 6369883*x^2)*z^11 + (16796*x^11 + 75582*x^10 + 194480*x^9 + 375375*x^8 + 602316*x^7 + 844074*x^6 + 1057224*x^5 + 1186680*x^4 + 1159400*x^3 + 857956*x^2)*z^10 + (4862*x^10 + 19448*x^9 + 45045*x^8 + 78936*x^7 + 115500*x^6 + 147420*x^5 + 166257*x^4 + 161820*x^3 + 118668*x^2)*z^9 + (1430*x^9 + 5005*x^8 + 10296*x^7 + 16170*x^6 + 21252*x^5 + 24150*x^4 + 23400*x^3 + 16965*x^2)*z^8 + (429*x^8 + 1287*x^7 + 2310*x^6 + 3192*x^5 + 3675*x^4 + 3542*x^3 + 2530*x^2)*z^7 + (132*x^7 + 330*x^6 + 504*x^5 + 595*x^4 + 570*x^3 + 399*x^2)*z^6 + (42*x^6 + 84*x^5 + 105*x^4 + 100*x^3 + 68*x^2)*z^5 + (14*x^5 + 21*x^4 + 20*x^3 + 13*x^2)*z^4 + (5*x^4 + 5*x^3 + 3*x^2)*z^3 + (2*x^3 + x^2)*z^2 + x^2*z + x

CC.subs(x=1) - CC.subs(x=0)
# 4692269111973668*z^20 + 558146870481760*z^19 + 66803956281592*z^18 + 8050816106176*z^17 + 977709717091*z^16 + 119763949936*z^15 + 14814453896*z^14 + 1853076528*z^13 + 234798627*z^12 + 30201504*z^11 + 3954488*z^10 + 528992*z^9 + 72647*z^8 + 10312*z^7 + 1528*z^6 + 240*z^5 + 41*z^4 + 8*z^3 + 2*z^2 + z
