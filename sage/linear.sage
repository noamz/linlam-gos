# generating function for linear terms

R.<x,z> = ZZ[]

max = 40
B = Sequence([0..max],R)

for i in range(max):
    B[i+1] = x + z*B[i]^2 + z*derivative(B[i],x)
    B[i+1] = B[i+1].truncate(z,max)
   
B[max].subs(x=0)
# 69692599846542054607811528918750*z^39 + 610768380520654474629120000000*z^37 + 5649301494178851172304968750*z^35 + 55318762960656722780160000*z^33 + 575440151532675686278125*z^31 + 6383483988812390400000*z^29 + 75849500508999712500*z^27 + 970217083619328000*z^25 + 13437880555850250*z^23 + 202903221120000*z^21 + 3366961243750*z^19 + 61999046400*z^17 + 1282031525*z^15 + 30220800*z^13 + 828250*z^11 + 27120*z^9 + 1105*z^7 + 60*z^5 + 5*z^3 + z

B[max].truncate(z,max/2).polynomial(z)
# (1767263190*x^20 + 68719476736*x^18 + 1157079750750*x^16 + 10952166604800*x^14 + 63319811883900*x^12 + 227726548008960*x^10 + 497844833017500*x^8 + 619540905984000*x^6 + 384801762228750*x^4 + 90270611558400*x^2 + 3366961243750)*z^19 + (477638700*x^19 + 17179869184*x^17 + 264475371600*x^15 + 2254857830400*x^13 + 11512693069800*x^11 + 35582273126400*x^9 + 64238042970000*x^7 + 61954090598400*x^5 + 26538052567500*x^3 + 3223950412800*x)*z^18 + (129644790*x^18 + 4294967296*x^16 + 60108039000*x^14 + 458017996800*x^12 + 2042574576900*x^10 + 5337340968960*x^8 + 7752867255000*x^6 + 5531615232000*x^4 + 1474336253750*x^2 + 61999046400)*z^17 + (35357670*x^17 + 1073741824*x^15 + 13572783000*x^13 + 91603599360*x^11 + 352168030500*x^9 + 762477281280*x^7 + 861429695000*x^5 + 425508864000*x^3 + 58973450150*x)*z^16 + (9694845*x^16 + 268435456*x^14 + 3042175500*x^12 + 17993564160*x^10 + 58694671750*x^8 + 102641172480*x^6 + 86142969500*x^4 + 26594304000*x^2 + 1282031525)*z^15 + (2674440*x^15 + 67108864*x^13 + 676039000*x^11 + 3460300800*x^9 + 9391147480*x^7 + 12830146560*x^5 + 7490693000*x^3 + 1208832000*x)*z^14 + (742900*x^14 + 16777216*x^12 + 148728580*x^10 + 648806400*x^8 + 1429087660*x^6 + 1457971200*x^4 + 535049500*x^2 + 30220800)*z^13 + (208012*x^13 + 4194304*x^11 + 32332300*x^9 + 117964800*x^7 + 204155380*x^5 + 145797120*x^3 + 28160500*x)*z^12 + (58786*x^12 + 1048576*x^10 + 6928350*x^8 + 20643840*x^6 + 26862550*x^4 + 12149760*x^2 + 828250)*z^11 + (16796*x^11 + 262144*x^9 + 1458600*x^7 + 3440640*x^5 + 3160300*x^3 + 759360*x)*z^10 + (4862*x^10 + 65536*x^8 + 300300*x^6 + 537600*x^4 + 316030*x^2 + 27120)*z^9 + (1430*x^9 + 16384*x^7 + 60060*x^5 + 76800*x^3 + 24310*x)*z^8 + (429*x^8 + 4096*x^6 + 11550*x^4 + 9600*x^2 + 1105)*z^7 + (132*x^7 + 1024*x^5 + 2100*x^3 + 960*x)*z^6 + (42*x^6 + 256*x^4 + 350*x^2 + 60)*z^5 + (14*x^5 + 64*x^3 + 50*x)*z^4 + (5*x^4 + 16*x^2 + 5)*z^3 + (2*x^3 + 4*x)*z^2 + (x^2 + 1)*z + x
